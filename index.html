<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Personal Portfolio - Apostolos172</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="fluid-container">
    <nav id="navbar" class="row fluid-container">
      <ul class="row">
        <li class="col-sm-3">Apostolos172</li>
        <li class="col-sm-3"><a href="#">Home</a></li>
        <li class="col-sm-3"><a href="#projects">Projects</a></li>
        <li class="col-sm-3"><a href="#contact">Contact</a></li>
      </ul>
    </nav>

    <header class="row">
      <section id="welcome-section">
        <a href="#projects"><h1>Welcome to my personal portfolio</h1></a>
      </section>
    </header>

    <main class="row">
      <section id="projects" class="container">
        <h2 class="row">Some of my projects</h2>
        <div class="row" id="test"></div>
        <div class="projects-row row">
          <div class="project-tile col-sm-5">
            <a
              href="https://github.com/Apostolos172/converter"
              class="project-link"
              ><img
                src="https://github.com/Apostolos172/converter/raw/master/screenshots/main_window.png?raw=true"
                alt="converter"
            /></a>
          </div>
          <!--
          <div class="project-tile col-sm-6">
            <a
              href="https://github.com/Apostolos172/business-system"
              class="project-link"
              ><img
                src="https://github.com/Apostolos172/business-system/raw/b17275c03a03a92792e99e05fbeda2ad39ca8d83/My_System/screenshots/main.png?raw=true"
                alt="business-system"
            /></a>
          </div>
          <div class="project-tile col-sm-6">
            <a
              href="https://github.com/Apostolos172/business-system"
              class="project-link"
              ><img
                src="https://github.com/Apostolos172/business-system/raw/b17275c03a03a92792e99e05fbeda2ad39ca8d83/My_System/screenshots/main.png?raw=true"
                alt="business-system"
            /></a>
          </div> -->

          <!-- <div class="project-tile col-sm-5"></div>
          <div class="project-tile col-sm-5"></div>
          <div class="project-tile col-sm-4"></div>
          <div class="project-tile col-sm-4"></div>
          <div class="project-tile col-sm-4"></div>
          <div class="project-tile col-sm-4"></div> -->
        </div>
      </section>
    </main>

    <footer id="contact" class="text-center">
      <section>
        <h2>Let's get in touch</h2>
        <div>
          <a
            id="profile-link"
            target="_blank"
            href="https://github.com/Apostolos172/"
            ><img
              src="https://creazilla-store.fra1.digitaloceanspaces.com/icons/7914417/github-icon-md.png"
              alt="github"
            />
          </a>
          <a
            id="profile-link"
            target="_blank"
            href="https://www.freecodecamp.org/apostolos172"
            ><img
              src="https://s3.amazonaws.com/freecodecamp/camper-image-placeholder.png"
              alt="freecodecamp"
            />
            <!-- https://s3.amazonaws.com/freecodecamp/curriculum-diagram-full.jpg -->
          </a>
        </div>
      </section>
    </footer>
  </body>
  <script type="module">
    // import { initializeApp } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-app.js";

    // // If you enabled Analytics in your project, add the Firebase SDK for Google Analytics
    // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-analytics.js";

    // // Add Firebase products that you want to use
    // import { getAuth } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-auth.js";
    // import { getFirestore } from "https://www.gstatic.com/firebasejs/9.15.0/firebase-firestore.js";
    // // TODO: Replace the following with your app's Firebase project configuration
    // const firebaseConfig = {
    //   // ...
    // };

    // // Initialize Firebase
    // const app = initializeApp(firebaseConfig);
    // console.log("app ", app);
  </script>

  <!-- <script type="module" src="index.js"></script> -->
  <script>
    //import Project from "./Project.js";

    class Project {
      constructor(name, link, image) {
        this.name = name;
        this.url = link;
        this.image = image;
      }
    }

    // console.log("Starting");

    const addToAllLinksBlankTargetAttribute = () => {
      let links = document.querySelectorAll("a.project-link");
      links = Array.prototype.slice.call(links);
      // console.log(links);
      links.forEach((link) => {
        link.setAttribute("target", "_blank");
      });
    };

    const addProjects = (container) => {
      // console.log(container);
      fetch(
        "https://portfolio-d9a8f-default-rtdb.europe-west1.firebasedatabase.app/projects.json"
      )
        .then((response) => {
          // console.log(response);
          return response.json();
        })
        .then((data) => {
          // console.log(data);

          let concatenatedData = Object.keys(data);
          let values = Object.values(data);
          // console.log(concatenatedData);
          // console.log(values);

          concatenatedData = concatenatedData.map((project, index) => {
            let tempProject = new Project(
              project,
              values[index].link,
              values[index].image
            );
            return tempProject;
          });
          // console.log(concatenatedData);

          let divTest = document.getElementById("test");

          // divTest.innerHTML = JSON.stringify(concatenatedData);
          // get data and give them as an array

          let stringifiedData = JSON.stringify(concatenatedData);
          // console.log(stringifiedData);
          // console.log(typeof stringifiedData);
          concatenatedData = JSON.parse(stringifiedData);

          // get data and give them as an array
          //   concatenatedData = [
          //     {
          //       name: "JavaScript-Calculator",
          //       url: "https://github.com/Apostolos172/JavaScript-Calculator",
          //       image:
          //         "https://github.com/Apostolos172/JavaScript-Calculator/raw/master/screenshots/calculator.png?raw=true",
          //     },
          //     {
          //       name: "business-system",
          //       url: "https://github.com/Apostolos172/business-system",
          //       image:
          //         "https://github.com/Apostolos172/business-system/raw/b17275c03a03a92792e99e05fbeda2ad39ca8d83/My_System/screenshots/invoice.png?raw=true",
          //     },
          //     {
          //       name: "diavgeia-retrieval",
          //       url: "https://github.com/Apostolos172/diavgeia-retrieval",
          //       image:
          //         "https://github.com/Apostolos172/diavgeia-retrieval/raw/master/screenshots/example1.png?raw=true",
          //     },
          //     {
          //       name: "interesting-sites",
          //       url: "https://github.com/Apostolos172/interesting-sites",
          //       image:
          //         "https://github.com/Apostolos172/interesting-sites/raw/master/screenshots/Screenshot-Interesting-sites.png?raw=true",
          //     },
          //   ];

          concatenatedData.forEach((project, index) => {
            const div = document.createElement("div");
            div.classList.add("project-tile", "col-sm-5");

            const a = document.createElement("a");
            a.classList.add("project-link");
            a.href = project.url;

            const img = document.createElement("img");
            img.src = project.image;
            img.alt = project.name;
            a.appendChild(img);

            div.appendChild(a);

            container.appendChild(div);

            addToAllLinksBlankTargetAttribute();
          });
        });
    };

    `
    <div class="project-tile col-sm-6">
        <a href="https://github.com/Apostolos172/business-system" class="project-link"
        ><img
            src="https://github.com/Apostolos172/business-system/raw/b17275c03a03a92792e99e05fbeda2ad39ca8d83/My_System/screenshots/main.png?raw=true"
            alt="business-system"
        /></a>
    </div>
    `;

    let projectsContainer = document.querySelector(".projects-row");
    // console.log(projectsContainer);

    addProjects(projectsContainer);

    // addToAllLinksBlankTargetAttribute();
  </script>
  <!-- <script src="https://cdn.freecodecamp.org/testable-projects-fcc/v1/bundle.js"></script> -->
</html>
